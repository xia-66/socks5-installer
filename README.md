## 🤖 Assistant

好的，已经为您更新。

新的 `README.md` 文档将重点突出您提供的一键安装命令，并简化了使用说明，使其更加直接和清晰。

---

# SOCKS5 Proxy Auto-Install Script (based on gost)

这是一个用于在 Linux 服务器上一键安装、卸载和管理 SOCKS5 代理服务的 Shell 脚本。该脚本基于强大的开源代理工具 [gost](https://github.com/ginuerzh/gost) 实现，并使用 `systemd`进行服务管理。

[English](./README_en.md) | **中文**

## ✨ 主要特性

- **一键操作**：通过交互式菜单，轻松完成 SOCKS5 代理的安装、卸载和状态查询。
- **用户认证**：支持设置用户名和密码，为您的代理服务增加一道安全屏障。
- **开机自启**：自动创建并配置 `systemd` 服务，确保代理服务在服务器重启后能自动运行。
- **智能兼容**：
 - **系统支持**：完美适配 CentOS 7+, Debian 8+, Ubuntu 16+ 等主流 `systemd` 发行版。
 - **架构支持**：自动检测 `x86_64 (amd64)`, `aarch64 (arm64)` 等多种 CPU 架构。
- **自动配置防火墙**：自动检测 `firewalld` 或 `ufw` 并开放相应端口，简化网络配置。
- **下载源优化**：内置多个下载源 (包括 GitHub 官方和镜像加速)，提高在不同网络环境下的下载成功率。
- **干净卸载**：一键卸载功能会彻底清除所有相关文件、`systemd` 服务和防火墙规则，不留任何残余。

## 🚀 系统要求

- **操作系统**: CentOS 7+, Debian 8+, Ubuntu 16+ (或其他基于 `systemd` 的 Linux 发行版)
- **权限**: 必须拥有 `root` 用户权限才能执行此脚本。

## 🛠️ 使用说明

### 一键安装

在您的服务器上以 `root` 身份执行以下命令，即可启动安装向导：

```bash
bash <(curl -fsSL https://raw.githubusercontent.com/xia-66/socks5-installer/main/install.sh)
```

### 菜单选项

运行脚本后，您将看到一个清晰的操作菜单：

```
==================================================
 SOCKS5 一键安装/卸载脚本 (基于 gost v2.12.0)
==================================================
 1. 安装 SOCKS5 代理
 2. 卸载 SOCKS5 代理
 3. 查看 SOCKS5 代理状态
 ──────────────────────────────────
 0. 退出脚本
==================================================
请输入你的选择 [0-3]:
```

- **选项 1 (安装)**:
 - 引导您设置代理的**监听端口**。
 - 引导您设置代理的**用户名**和**密码** (如果留空则不设置认证)。
 - 自动完成下载、安装、配置服务、设置防火墙等所有步骤。
- **选项 2 (卸载)**:
 - 停止并禁用 `gost` 服务。
 - 删除所有相关文件和目录。
 - 关闭之前在防火墙中打开的端口。
- **选项 3 (查看状态)**:
 - 显示 `gost` 服务的实时运行状态 (`systemctl status`)。
 - 显示当前代理的配置信息 (端口、用户名等)。

## 📁 文件和目录结构

脚本在安装过程中会创建以下文件和目录：

- **gost 主程序**: `/usr/local/bin/gost`
- **systemd 服务文件**: `/etc/systemd/system/gost.service`
- **配置文件目录**: `/etc/gost/`
- **配置文件**: `/etc/gost/config.json` (记录端口、用户等信息，用于卸载和状态查询)

## 📄 开源许可

本项目基于 [MIT License](LICENSE) 开源。

## 🙏 致谢

- **[gost](https://github.com/ginuerzh/gost)**: 本脚本的核心，一个功能强大的瑞士军刀级安全隧道工具。
